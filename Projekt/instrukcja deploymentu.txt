1. W folderze projektu:
dotnet publish -c Release

2. W folderze .\bin\Release\net7.0\publish dodajemy Dockerfile o treści:

FROM gcr.io/google-appengine/aspnetcore:2.0
ADD ./ /app
ENV ASPNETCORE_URLS=http://*:${PORT}
WORKDIR /app
ENTRYPOINT [ "dotnet", "<dll_name>.dll" ]

3. Zamień <dll_name> na nazwę biblioteki, w tym przypadku kod wygląda tak:

FROM gcr.io/google-appengine/aspnetcore:2.0
ADD ./ /app
ENV ASPNETCORE_URLS=http://*:${PORT}
WORKDIR /app
ENTRYPOINT [ "dotnet", "P05Library.API.dll" ]

4. Za pomocą konsoli gcloud robimy:

gcloud beta app gen-config
gcloud app deploy